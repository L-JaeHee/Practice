(()=>{"use strict";const e=[];class t{constructor(t){this._id=t,e.push(this)}get id(){return this._id}get element(){return this._element}dispose(){var t;t=this._id,e.splice(e.findIndex((e=>e.id===t)),1)}}const n=function(t){return e.find((e=>e.id===t))},c=class extends t{constructor(e){super(e.id);const t=document.createElement("button");t.textContent=e.content,t.onclick=e.onclick,this._element=t}},o=class extends t{constructor(e){super(e.id);const t=document.createElement("div");this._element=t}append(e){this._element.append(e.element)}},d=class extends t{constructor(e){super(e.id);const t=document.createElement("span");t.textContent=e.content,this._element=t}},s=class extends t{constructor(e){super(e.id);const t=document.createElement("ul");t.style.listStyle="none",t.style.padding="0",this._element=t,this._columns=e.columns,this.render(e.datas,e.columns)}reload(e){this._element.innerHTML="",this.render(e,this._columns)}render(e,t){e.forEach((e=>{const n=document.createElement("li");t.forEach((t=>{n.append(t.render(e))})),this._element.append(n)}))}},i=class extends t{constructor(e){var t,n;super(e.id);const c=document.createElement("input");c.type=e.inputType,c.checked=null!==(t=e.checked)&&void 0!==t&&t,c.onclick=null!==(n=e.onclick)&&void 0!==n?n:null,this._element=c}getValue(){return this._element.value}clear(){this._element.value=""}focus(){this._element.focus()}},r=[];function l(){const e=n("inputControl");if(e instanceof i){if(!e.getValue())return void alert("할일을 입력해주세요");r.push({id:crypto.randomUUID(),content:e.getValue(),checked:!1}),e.clear(),e.focus()}const t=n("todolist");t instanceof s&&t.reload(u({checked:!1}))}function u(e){return r.filter((t=>t.checked===e.checked))}function a(e){return new i({id:e.id,inputType:"checkbox",checked:e.checked,onclick:t=>{e.checked=t.target.checked;const c=n("donelist"),o=n("todolist");c instanceof s&&o instanceof s&&(c.reload(u({checked:!0})),o.reload(u({checked:!1})))}}).element}function h(e){return new d({id:e.id,content:e.content}).element}function p(e){return new c({id:e.id,content:"삭제",onclick:t=>{r.splice(r.indexOf(e),1);const c=n("donelist"),o=n("todolist");c instanceof s&&o instanceof s&&(e.checked?c.reload(u({checked:!0})):o.reload(u({checked:!1})))}}).element}!function(){const e=new o({id:"root"});document.body.append(e.element),e.append(new i({id:"inputControl",inputType:"text"})),e.append(new c({id:"inputBtnControl",content:"입력",onclick:l})),e.append(new s({id:"todolist",datas:u({checked:!1}),columns:[{render:a},{render:h},{render:p}]})),e.append(new s({id:"donelist",datas:u({checked:!0}),columns:[{render:a},{render:h},{render:p}]}))}()})();
//# sourceMappingURL=main.js.map